# Админ-панель: как запустить и как редактировать товары

## Запуск админки

1. **Миграции** (один раз после клонирования или отката):
   ```bash
   python manage.py migrate
   ```

2. **Суперпользователь** (один раз):
   ```bash
   python manage.py createsuperuser
   ```
   Введите логин, email и пароль.

3. **Сервер** (каждый раз, когда нужна админка):
   ```bash
   python manage.py runserver
   ```

4. Откройте в браузере: **http://127.0.0.1:8000/admin/**  
   Войдите под созданным логином и паролем.

---

## Редактирование товаров

- В разделе **Товары** над списком отображаются **вкладки по категориям**: «Все» и по одной вкладке на каждую категорию. Нажатие на вкладку фильтрует список товаров по выбранной категории.
- Нажмите на название товара для редактирования (название, slug, категория, цены, изображение, наличие, порядок) или «Добавить товар» для нового.
- Категория у товара необязательна; при необходимости создайте категории в разделе **Категории** и выберите их в карточке товара.

## Копирование 6 товаров во все категории

Чтобы скопировать шесть базовых карточек товаров в каждую существующую категорию (удобно для быстрого заполнения каталога), выполните в папке проекта:

```bash
python manage.py copy_products_to_categories
```

Сначала создайте нужные категории в разделе **Категории**. Команда создаёт копии товаров с уникальными slug (например, `drel-udarnaya-gsb-18v-50-dreli` для категории со slug `dreli`). Повторный запуск не создаёт дубликаты.

## Загрузка всех категорий каталога

Чтобы добавить в базу **все категории** из каталога (включая «Маршрутизаторы» с 8 фрезерами, «Факторы воздействия», «Циркулярные пилы», «Торцовочные пилы» и остальные) и их товары, выполните:

```bash
python manage.py load_catalog
```

После этого на странице **Товары** появятся вкладки для всех загруженных категорий, а в разделе **Категории** — соответствующие записи. Повторный запуск обновляет существующие категории и товары по slug.

## Категории

- В разделе **Категории** можно добавлять и редактировать категории (название, slug, родительская категория, порядок). Товары редактируются в разделе **Товары**.
